<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Google fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Marvel:wght@700&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Righteous&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Balsamiq+Sans:wght@700&display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Maven+Pro&display=swap" rel="stylesheet" />

    <!-- Font Awesome CDN -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.14.0/css/all.css"
        integrity="sha384-HzLeBuhoNPvSl5KYnjx0BT+WB0QEEqLprO+NBkkk5gbc67FTaL7XIGa2w1L0Xbgc" crossorigin="anonymous" />
    <!-- JQuery CDN -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="../public/styles/signin.css">
    <title>KBM | Log In</title>
</head>

<body>
    <!-- Navigation bar code -->

  <div class="nav-bar">
    <div class="brand">KBM</div>
    <div class="navigation">
      <a href="../index.html#home">Home</a>
      <a href="../index.html#about">About</a>
      <a id="gotoBlog" href="../pages/signup.html">Blog</a>
      <a href="../index.html#contact">Contact</a>
    </div>
    <div class="hamburger" id="ham">
      <div class="hamb-line"></div>
      <div class="hamb-line"></div>
      <div class="hamb-line"></div>
    </div>
  </div>
  <div class="resp-nav" id="respNavigation">
    <a href="../index.html#home">Home</a>
    <a href="../index.html#about">About</a>
    <a id="gotoBlog" href="../pages/signup.html">Blog</a>
    <a href="../index.html#contact">Contact</a>
  </div>

  <!-- Navigation bar code ends here -->
    <div class="main">
        <div class="form-container">
            <i class="fas fa-user"></i>
            <form id="signin-form" method="POST">
                <input name="email" id="signin-email" type="email" placeholder="Email" autocomplete="off" required><br>
                <input name="password" id="signin-password" type="password" placeholder="Password" autocomplete="off" required><br>
                <button class="btn" type="submit">Log in</button>
                <span style="display: block; font-size: 15px;" id="already">Don't have an account? <a
                        href="../pages/signup.html">Sign
                        Up</a></span>
            </form>
        </div>
    </div>
    <div class="footer">
        <p>
            <span style="opacity: 50%">Designed and Built by </span>Kundwa Bruno
        </p>
        <p style="opacity: 50%">&copy; 2020-2021</p>
    </div>




     <!-- The core Firebase JS SDK is always required and must be listed first -->
<!-- <script src="https://www.gstatic.com/firebasejs/7.21.1/firebase-app.js"></script> -->

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<!-- <script src="https://www.gstatic.com/firebasejs/7.21.1/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.21.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.21.1/firebase-analytics.js"></script>

<script> -->
  <!-- // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
//   var firebaseConfig = {
//     apiKey: "AIzaSyBnGPcbDiThxWHQVsiVwTfAR1AlM-o5HQ4",
//     authDomain: "my-portfolio-53f39.firebaseapp.com",
//     databaseURL: "https://my-portfolio-53f39.firebaseio.com",
//     projectId: "my-portfolio-53f39",
//     storageBucket: "my-portfolio-53f39.appspot.com",
//     messagingSenderId: "544508778619",
//     appId: "1:544508778619:web:c3890bb7ff51b05e1faade",
//     measurementId: "G-9RLF5K1H1C"
//   };
//   // Initialize Firebase
//   firebase.initializeApp(firebaseConfig);
//   firebase.analytics();
//   const auth = firebase.auth();
//   const db = firebase.firestore(); -->
<!-- </script>
<script> -->
<!-- //     let blogButton = document.getElementById("gotoBlog");
//     let logoutBtn = document.getElementById("logoutBtn");
//   auth.onAuthStateChanged(user => {
//     if(user && user.email === "kundwabruno@gmail"){
//         location.replace("file:///C:/Users/TDE_KBM/Desktop/Programming/Andela/UI/Blog/blogDashboard.html");
//         console.log(user.password);
//       }
//     else if(user){
//       console.log("Logged in as : " + user.displayName);
//       console.log(user);
//       logoutBtn.innerText = "Logout";
//       document.getElementById("nameDisplay").innerText = user.displayName;
//       blogButton.setAttribute("href","file:///C:/Users/TDE_KBM/Desktop/Programming/Andela/UI/Blog/blog.html"); -->
<!-- //     }else{
//       console.log("Logged out");
//       logoutBtn.innerText = "Signup";
//       logoutBtn.setAttribute("onclick","window.location.href='signup.html'")
//       document.getElementById("nameDisplay").style.display === "none";
//       blogButton.setAttribute("href","signup.html");
//     }
//   });

//   logoutBtn.addEventListener("click", (e)=>{
//     e.preventDefault();
//     auth.signOut().then(()=>{ -->
<!-- //       location.reload();
//      })
//   }) -->
<!-- // </script> -->
<!-- <script src="index.js"></script> -->
<script>

  let loginForm = document.getElementById('signin-form');

   function login (data) {
    return fetch('https://kundwabruno-portfolio.herokuapp.com/login' , {
    method: 'POST', 
    headers: {
      'Content-Type': 'application/json'
      // 'Content-Type': 'application/x-www-form-urlencoded',
    },
    body: JSON.stringify(data) 
  }).then(response => response.json())
  }

  loginForm.addEventListener('submit' , (e) => {
    e.preventDefault();
    async function authentication () {

    let data = {
      email : loginForm.email.value,
      password : loginForm.password.value
    }

    const response = await login(data);
    console.log(response.message);
  }

  authentication();
  });



</script>
</body>

</html>