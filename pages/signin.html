<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Google fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Marvel:wght@700&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Righteous&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Balsamiq+Sans:wght@700&display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Maven+Pro&display=swap" rel="stylesheet" />

    <!-- Font Awesome CDN -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.14.0/css/all.css"
        integrity="sha384-HzLeBuhoNPvSl5KYnjx0BT+WB0QEEqLprO+NBkkk5gbc67FTaL7XIGa2w1L0Xbgc" crossorigin="anonymous" />
    <!-- JQuery CDN -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="../public/styles/signin.css">
    <title>KBM | Log In</title>
</head>

<body>
    <!-- Navigation bar code -->

  <div class="nav-bar">
    <div class="brand">KBM</div>
    <div class="navigation">
      <a href="../index.html#home">Home</a>
      <a href="../index.html#about">About</a>
      <a id="gotoBlog" href="">Blog</a>
      <a href="../index.html#contact">Contact</a>
      <a id="logBtn" href=""></a>
    </div>
    <div class="hamburger" id="ham">
      <div class="hamb-line"></div>
      <div class="hamb-line"></div>
      <div class="hamb-line"></div>
    </div>
  </div>
  <div class="resp-nav" id="respNavigation">
    <a href="../index.html#home">Home</a>
    <a href="../index.html#about">About</a>
    <a id="gotoBlog" href="../pages/signup.html">Blog</a>
    <a href="../index.html#contact">Contact</a>
  </div>

  <!-- Navigation bar code ends here -->
    <div class="main">
        <div class="form-container">
            <i class="fas fa-user"></i>
            <form id="signin-form" method="POST">
              <p>Login with your account.</p>
                <input name="email" id="signin-email" type="text" placeholder="Email" autocomplete="off" required><br>
                <input style="margin-bottom: 0px;" name="password" id="signin-password" type="password" placeholder="Password" autocomplete="off" required><br>
                <span style="font-size: 12px; color: #CD6155; text-align: justify;" id="errorMessage"></span><br>
                <button class="btn" type="submit">Log in</button>
                <span style="display: block; font-size: 13px;" id="already">Don't have an account? <a
                        href="../pages/signup.html">Sign
                        up Now</a></span>
            </form>
        </div>
    </div>
    <div class="footer">
        <p>
            <span style="opacity: 50%">Designed and Built by </span>Kundwa Bruno
        </p>
        <p style="opacity: 50%">&copy; 2020-2021</p>
    </div>

<script src="../scripts/index.js"></script>

          <!-- Firebase CDN Initialization -->

<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-analytics.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-auth.js"></script>

<script>
  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  var firebaseConfig = {
    apiKey: "AIzaSyBnGPcbDiThxWHQVsiVwTfAR1AlM-o5HQ4",
    authDomain: "my-portfolio-53f39.firebaseapp.com",
    databaseURL: "https://my-portfolio-53f39.firebaseio.com",
    projectId: "my-portfolio-53f39",
    storageBucket: "my-portfolio-53f39.appspot.com",
    messagingSenderId: "544508778619",
    appId: "1:544508778619:web:c3890bb7ff51b05e1faade",
    measurementId: "G-9RLF5K1H1C"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();
  firebase.auth();
</script>

<script>

  const loginForm = document.getElementById('signin-form');

  loginForm.addEventListener('submit' , (e)=> {
    e.preventDefault();
    firebase.auth().signInWithEmailAndPassword(loginForm.email.value, loginForm.password.value).then( () => {
        location.replace('../pages/blog.html');
    } ).catch(function(error) {
      var errorCode = error.code;
      var errorMessage = error.message;
      document.getElementById('errorMessage').textContent = errorMessage;
    });
  })
  
  

</script>
<script src="../scripts/userStatus.js"></script>

</body>

</html>